{"version":3,"file":"index.js","sources":["../src/js/main.js"],"sourcesContent":["// Gerekli kütüphaneleri içe aktar\nimport '/css/styles.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport axios from 'axios';\n\n// Vite'de global değişken tanımlama\nwindow.global = window;\nglobal.SimpleLightbox = SimpleLightbox;\n\n// API anahtarı\nconst API_KEY = '49383609-3f4a245e58475bbde73d484d3';\n\n//Sayfa numarasını takip et ve kaç resim geleceğini belirle\nlet currentPage = 1;\nconst perPage = 40;\n\n// Lightbox değişkenini global tanımla\nlet lightbox;\nconst loader = document.querySelector('.loader');\n\n// Sayfa yüklendiğinde çalıştır\ndocument.addEventListener('DOMContentLoaded', () => {\n  // Formu seç ve submit olayını dinle\n  document.querySelector('.form').addEventListener('submit', event => {\n    event.preventDefault(); // Sayfanın yenilenmesini engelle\n\n    // Arama terimini al\n    const query = document.getElementById('search').value.trim();\n\n    // Boşsa hata göster\n    if (query === '') {\n      iziToast.show({\n        title: 'Error',\n        message: 'Lütfen bir kelime girin!',\n        backgroundColor: '#FF6347',\n        color: 'white',\n      });\n      return;\n    }\n\n    //  Eski resimleri temizle\n    document.getElementById('gallery-list').innerHTML = '';\n\n\n\n    // Yeni arama yap\n    fetchImages(query);\n   \n  });\n\n  loader.style.display = 'none';\n\n  document.getElementById('LoadMore').addEventListener('click', () => {\n    currentPage++;\n    const query = document.getElementById('search').value.trim();\n    fetchImages(query);\n  });\n});\n\n// API'den görselleri al ve galeriyi güncelle\nasync function fetchImages(query) {\n  try {\n    console.log(`API'ye istek yapılıyor: ${query}`);\n    loader.style.display = 'block';\n\n    const response = await axios.get(\n      `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(\n        query\n      )}&image_type=photo&orientation=horizontal&safesearch=true&per_page=${perPage}&page=${currentPage}`\n    );\n\n    const data = response.data; // Axios ile veriye böyle erişiyoruz\n    console.log('Gelen Veri:', data);\n\n    if (data.hits.length === 0) {\n      iziToast.show({\n        title: 'Sorry!',\n        message: 'No images found. Please try again!',\n        backgroundColor: '#FF6347',\n        color: 'white',\n      });\n      return;\n    }\n\n    // Galeriye resimleri ekle\n    const gallery = document.getElementById('gallery-list');\n    gallery.innerHTML += data.hits\n      .map(\n        image => `\n        <div class=\"image-card\" >\n          <a href=\"${image.largeImageURL}\" target=\"_blank\" data-lightbox=\"gallery\">\n            <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" >\n          </a>\n          \n          <div class=\"image-info\">\n            <div class=\"info-item\">\n                <p><strong>Likes: </strong>${image.likes}</p>\n              </div>\n            <div class=\"info-item\">\n              <p><strong>Views:</strong> ${image.views}</p>\n            </div>\n             <div class=\"info-item\">\n              <p><strong>Comments:</strong> ${image.comments}</p>\n            </div>\n              <div class=\"info-item\">\n              <p><strong>Downloads:</strong> ${image.downloads}</p>\n            </div>\n            </div>\n        </div>\n          \n        `\n      )\n      .join('');\n    const LoadMoreBtn = document.getElementById('LoadMore');\n    LoadMoreBtn.style.display = 'none';\n\n    if (data.totalHits > 40) {\n      LoadMoreBtn.style.display = 'block';\n    }\n    if (currentPage * perPage >= data.totalHits) {\n      LoadMoreBtn.style.display = 'none'; // Tüm resimler yüklendiğinde butonu gizle\n      iziToast.show({\n        title: \"We're Sorry!\",\n        message: \"but you've reached the end of search results\",\n        backgroundColor: '#FF6347',\n        color: 'white',\n      });\n    }\n\n    // Lightbox kontrolü: varsa refresh, yoksa yeni oluştur\n    if (lightbox) {\n      lightbox.refresh();\n    } else {\n      lightbox = new SimpleLightbox('#gallery-list a', {\n        captions: true,\n        captionSelector: 'img',\n        captionType: 'attr',\n        overlayOpacity: 0.9,\n        fadeSpeed: 250,\n      });\n    }\n  } catch (error) {\n    console.error('Hata:', error);\n    iziToast.show({\n      title: 'Error',\n      message: 'Bir hata oluştu. Lütfen tekrar deneyin.',\n      backgroundColor: '#FF6347',\n      color: 'white',\n    });\n  } finally {\n    loader.style.display = 'none';\n  }\n}\n"],"names":["SimpleLightbox","API_KEY","currentPage","perPage","lightbox","loader","event","query","iziToast","fetchImages","data","axios","gallery","image","LoadMoreBtn","error"],"mappings":"+vBASA,OAAO,OAAS,OAChB,OAAO,eAAiBA,EAGxB,MAAMC,EAAU,qCAGhB,IAAIC,EAAc,EAClB,MAAMC,EAAU,GAGhB,IAAIC,EACJ,MAAMC,EAAS,SAAS,cAAc,SAAS,EAG/C,SAAS,iBAAiB,mBAAoB,IAAM,CAElD,SAAS,cAAc,OAAO,EAAE,iBAAiB,SAAUC,GAAS,CAClEA,EAAM,eAAc,EAGpB,MAAMC,EAAQ,SAAS,eAAe,QAAQ,EAAE,MAAM,OAGtD,GAAIA,IAAU,GAAI,CAChBC,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,2BACT,gBAAiB,UACjB,MAAO,OACf,CAAO,EACD,MACD,CAGD,SAAS,eAAe,cAAc,EAAE,UAAY,GAKpDC,EAAYF,CAAK,CAErB,CAAG,EAEDF,EAAO,MAAM,QAAU,OAEvB,SAAS,eAAe,UAAU,EAAE,iBAAiB,QAAS,IAAM,CAClEH,IACA,MAAMK,EAAQ,SAAS,eAAe,QAAQ,EAAE,MAAM,OACtDE,EAAYF,CAAK,CACrB,CAAG,CACH,CAAC,EAGD,eAAeE,EAAYF,EAAO,CAChC,GAAI,CACF,QAAQ,IAAI,2BAA2BA,CAAK,EAAE,EAC9CF,EAAO,MAAM,QAAU,QAQvB,MAAMK,GANW,MAAMC,EAAM,IAC3B,gCAAgCV,CAAO,MAAM,mBAC3CM,CACD,CAAA,qEAAqEJ,CAAO,SAASD,CAAW,EACvG,GAE0B,KAGtB,GAFA,QAAQ,IAAI,cAAeQ,CAAI,EAE3BA,EAAK,KAAK,SAAW,EAAG,CAC1BF,EAAS,KAAK,CACZ,MAAO,SACP,QAAS,qCACT,gBAAiB,UACjB,MAAO,OACf,CAAO,EACD,MACD,CAGD,MAAMI,EAAU,SAAS,eAAe,cAAc,EACtDA,EAAQ,WAAaF,EAAK,KACvB,IACCG,GAAS;AAAA;AAAA,qBAEIA,EAAM,aAAa;AAAA,wBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,6CAKjBA,EAAM,KAAK;AAAA;AAAA;AAAA,2CAGbA,EAAM,KAAK;AAAA;AAAA;AAAA,8CAGRA,EAAM,QAAQ;AAAA;AAAA;AAAA,+CAGbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,SAMvD,EACA,KAAK,EAAE,EACV,MAAMC,EAAc,SAAS,eAAe,UAAU,EACtDA,EAAY,MAAM,QAAU,OAExBJ,EAAK,UAAY,KACnBI,EAAY,MAAM,QAAU,SAE1BZ,EAAcC,GAAWO,EAAK,YAChCI,EAAY,MAAM,QAAU,OAC5BN,EAAS,KAAK,CACZ,MAAO,eACP,QAAS,+CACT,gBAAiB,UACjB,MAAO,OACf,CAAO,GAICJ,EACFA,EAAS,QAAO,EAEhBA,EAAW,IAAIJ,EAAe,kBAAmB,CAC/C,SAAU,GACV,gBAAiB,MACjB,YAAa,OACb,eAAgB,GAChB,UAAW,GACnB,CAAO,CAEJ,OAAQe,EAAO,CACd,QAAQ,MAAM,QAASA,CAAK,EAC5BP,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,0CACT,gBAAiB,UACjB,MAAO,OACb,CAAK,CACL,QAAY,CACRH,EAAO,MAAM,QAAU,MACxB,CACH"}